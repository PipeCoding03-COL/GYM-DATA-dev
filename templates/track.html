<header>
    <nav>
        <a href="{{ url_for('dashboard') }}">[Dashboard]</a>
        <a href="{{ url_for('survey') }}" class="edit-preferences">[Editar Preferencias]</a>
        <a href="{{ url_for('track') }}">[Track]</a>
        <a href="{{ url_for('logout') }}">[Cerrar Sesión]</a>
    </nav>
</header>

<div class="container">
    <h2>Registro de Peso y Medidas</h2>
    
    {% if msg %}
    <div class="alert alert-success">{{ msg }}</div>
    {% endif %}

    <!-- Date filter form -->
    <div class="card mb-4">
        <div class="card-header">
            <h4>Filtrar por período</h4>
        </div>
        <div class="card-body">
            <form method="GET" class="form-inline">
                <div class="form-group mr-3">
                    <label for="start_date" class="mr-2">Desde:</label>
                    <input type="date" class="form-control" id="start_date" name="start_date" value="{{ start_date }}">
                </div>
                <div class="form-group mr-3">
                    <label for="end_date" class="mr-2">Hasta:</label>
                    <input type="date" class="form-control" id="end_date" name="end_date" value="{{ end_date }}">
                </div>
                <button type="submit" class="btn btn-primary">Filtrar</button>
                <a href="{{ url_for('track') }}" class="btn btn-secondary ml-2">Reiniciar</a>
            </form>
        </div>
    </div>
    
    <form method="POST">
        <div class="form-group">
            <label for="weight_date">Fecha de registro del peso:</label>
            <input type="date" class="form-control" id="weight_date" name="weight_date" required>
        </div>
        
        <div class="form-group">
            <label for="weight">Peso (kg):</label>
            <input type="number" step="0.1" class="form-control" id="weight" name="weight" required>
        </div>
        
        <h3>Medidas (cm)</h3>
        <div class="form-group">
            <label for="measurement_date">Fecha de registro de medidas:</label>
            <input type="date" class="form-control" id="measurement_date" name="measurement_date" required>
        </div>
        
        <div class="form-group">
            <label for="arms">Brazos:</label>
            <input type="number" step="0.1" class="form-control" id="arms" name="arms">
        </div>
        
        <div class="form-group">
            <label for="chest">Pecho:</label>
            <input type="number" step="0.1" class="form-control" id="chest" name="chest">
        </div>
        
        <div class="form-group">
            <label for="legs">Piernas:</label>
            <input type="number" step="0.1" class="form-control" id="legs" name="legs">
        </div>
        
        <div class="form-group">
            <label for="waist">Cintura:</label>
            <input type="number" step="0.1" class="form-control" id="waist" name="waist">
        </div>
        
        <div class="form-group">
            <label for="shoulders">Hombros:</label>
            <input type="number" step="0.1" class="form-control" id="shoulders" name="shoulders">
        </div>
        
        <button type="submit" class="btn btn-primary">Guardar</button>
    </form>
    
    <h3>Gráficos</h3>
    {% if weight_graph %}
    <img src="data:image/png;base64,{{ weight_graph }}" alt="Weight Graph" class="img-fluid">
    {% endif %}
    
    {% if measurements_graph %}
    <img src="data:image/png;base64,{{ measurements_graph }}" alt="Measurements Graph" class="img-fluid">
    {% endif %}
</div>